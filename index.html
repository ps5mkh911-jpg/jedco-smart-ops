<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JEDCO SMART OPERATIONS SYSTEM</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <!-- โโโโโโโโโโโโโโโ ุฃุฒุฑุงุฑ ุงูุชุญูู ุงูุนูููุฉ โโโโโโโโโโโโโโโ -->
    <button class="toggle-btn" id="toggleBtn" onclick="togglePanel()">ุงูุชุญูู</button>
    <button class="fullscreen-btn" onclick="toggleFullscreen()">โถ ููุก ุงูุดุงุดุฉ</button>

    <!-- โโโโโโโโโโโโโโโ ุงูููุฏุฑ โโโโโโโโโโโโโโโ -->
    <header class="header">
        <div class="header-title">ุฅุฏุงุฑุฉ ุนูููุงุช ุงูุณุงุญุงุช ุงูุฎุงุฑุฌูุฉ ูุงูููุงุตูุงุช</div>
        <div class="header-company">JEDCO</div>
        <div class="header-info">
            <div class="info-box">
                <div class="info-box-label">ุงูููุช</div>
                <div class="info-box-value" id="currentTime">--:--:--</div>
            </div>
            <div class="info-box" id="shiftBox">
                <div class="info-box-label">ุงูููุจุฉ</div>
                <div class="info-box-value" id="currentShift">-</div>
            </div>
            <div class="info-box">
                <div class="info-box-label">ุงูุชุงุฑูุฎ</div>
                <div class="info-box-value" id="currentDate">----/--/--</div>
            </div>
        </div>
    </header>

    <!-- โโโโโโโโโโโโโโโ ุดุฑูุท ุงูุฅุญุตุงุฆูุงุช ุงูููุญุฏ โโโโโโโโโโโโโโโ -->
    <div class="unified-stats-bar">
        <!-- ูุฌููุนุฉ ุงูุญุงููุงุช ุงูุญุงููุฉ -->
        <div class="stats-group">
            <div class="mini-stat" onclick='filterBuses("all")'>
                <span class="mini-label">ุงูุญุงููุงุช</span>
                <div class="mini-box"><span class="mini-value" id="totalBuses">0</span></div>
            </div>
            <div class="mini-stat green" onclick='filterBuses("early")'>
                <span class="mini-label">ูุจูุฑ</span>
                <div class="mini-box"><span class="mini-value" id="earlyBuses">0</span></div>
            </div>
            <div class="mini-stat blue" onclick='filterBuses("ontime")'>
                <span class="mini-label">ููุนุฏ</span>
                <div class="mini-box"><span class="mini-value" id="ontimeBuses">0</span></div>
            </div>
            <div class="mini-stat red" onclick='filterBuses("late")'>
                <span class="mini-label">ูุชุฃุฎุฑ</span>
                <div class="mini-box"><span class="mini-value" id="lateBuses">0</span></div>
            </div>
            <div class="mini-stat">
                <span class="mini-label">ุฑูุงุจ</span>
                <div class="mini-box"><span class="mini-value" id="totalPax">0</span></div>
            </div>
            <div class="mini-stat">
                <span class="mini-label">ุฑุญูุงุช</span>
                <div class="mini-box"><span class="mini-value" id="totalFlights">0</span></div>
            </div>
        </div>

        <div class="stats-divider"></div>

        <!-- ูุฌููุนุฉ ุฅุญุตุงุฆูุงุช ุงูููู -->
        <div class="stats-group">
            <div class="mini-stat">
                <span class="mini-label">ุงูููู</span>
                <div class="mini-box"><span class="mini-value" id="dailyBuses">0</span></div>
            </div>
            <div class="mini-stat green">
                <span class="mini-label">ูุจูุฑ</span>
                <div class="mini-box"><span class="mini-value" id="dailyEarly">0</span></div>
            </div>
            <div class="mini-stat blue">
                <span class="mini-label">ููุนุฏ</span>
                <div class="mini-box"><span class="mini-value" id="dailyOntime">0</span></div>
            </div>
            <div class="mini-stat red">
                <span class="mini-label">ูุชุฃุฎุฑ</span>
                <div class="mini-box"><span class="mini-value" id="dailyLate">0</span></div>
            </div>
            <div class="mini-stat">
                <span class="mini-label">ุฑูุงุจ</span>
                <div class="mini-box"><span class="mini-value" id="dailyPax">0</span></div>
            </div>
            <div class="mini-stat">
                <span class="mini-label">ุฑุญูุงุช</span>
                <div class="mini-box"><span class="mini-value" id="dailyFlights">0</span></div>
            </div>
        </div>

        <div class="stats-divider"></div>

        <!-- ูุฌููุนุฉ ุงูุชุฃุดูุฑุงุช - ุงูุญุงููุงุช -->
        <div class="stats-group">
            <div class="mini-stat">
                <span class="mini-label">ุญุฌ</span>
                <div class="mini-box"><span class="mini-value" id="visaHajj">0</span></div>
            </div>
            <div class="mini-stat">
                <span class="mini-label">ุนูุฑุฉ</span>
                <div class="mini-box"><span class="mini-value" id="visaUmrah">0</span></div>
            </div>
            <div class="mini-stat">
                <span class="mini-label">ุฒูุงุฑุฉ</span>
                <div class="mini-box"><span class="mini-value" id="visaVisit">0</span></div>
            </div>
            <div class="mini-stat">
                <span class="mini-label">ุณูุงุญุฉ</span>
                <div class="mini-box"><span class="mini-value" id="visaTourism">0</span></div>
            </div>
            <div class="mini-stat">
                <span class="mini-label">ุฎููุฌู</span>
                <div class="mini-box"><span class="mini-value" id="visaGCC">0</span></div>
            </div>
            <div class="mini-stat">
                <span class="mini-label">ุนูู</span>
                <div class="mini-box"><span class="mini-value" id="visaWork">0</span></div>
            </div>
        </div>

        <div class="stats-divider"></div>

        <!-- ูุฌููุนุฉ ุงูุชุฃุดูุฑุงุช - ุงูุฑูุงุจ -->
        <div class="stats-group">
            <div class="mini-stat">
                <span class="mini-label">ุฑูุงุจ ุญุฌ</span>
                <div class="mini-box"><span class="mini-value" id="visaPaxHajj">0</span></div>
            </div>
            <div class="mini-stat">
                <span class="mini-label">ุฑูุงุจ ุนูุฑุฉ</span>
                <div class="mini-box"><span class="mini-value" id="visaPaxUmrah">0</span></div>
            </div>
            <div class="mini-stat">
                <span class="mini-label">ุฑูุงุจ ุฒูุงุฑุฉ</span>
                <div class="mini-box"><span class="mini-value" id="visaPaxVisit">0</span></div>
            </div>
            <div class="mini-stat">
                <span class="mini-label">ุฑูุงุจ ุณูุงุญุฉ</span>
                <div class="mini-box"><span class="mini-value" id="visaPaxTourism">0</span></div>
            </div>
            <div class="mini-stat">
                <span class="mini-label">ุฑูุงุจ ุฎููุฌู</span>
                <div class="mini-box"><span class="mini-value" id="visaPaxGCC">0</span></div>
            </div>
            <div class="mini-stat">
                <span class="mini-label">ุฑูุงุจ ุนูู</span>
                <div class="mini-box"><span class="mini-value" id="visaPaxWork">0</span></div>
            </div>
        </div>
    </div>

    <!-- โโโโโโโโโโโโโโโ ุฏููู ุงูุฃููุงู โโโโโโโโโโโโโโโ -->
    <div class="legend">
        <div class="legend-item">
            <div class="legend-color green"></div>
            <span>ูุจูุฑ (ุฃูุซุฑ ูู 7 ุณุงุนุงุช)</span>
        </div>
        <div class="legend-item">
            <div class="legend-color blue"></div>
            <span>ูู ุงูููุนุฏ (3 ุฅูู 7 ุณุงุนุงุช)</span>
        </div>
        <div class="legend-item">
            <div class="legend-color red"></div>
            <span>ูุชุฃุฎุฑ (ุฃูู ูู 3 ุณุงุนุงุช)</span>
        </div>
        <div class="legend-item">
            <div class="legend-color empty"></div>
            <span>ูุงุฑุบ</span>
        </div>
    </div>
<!-- โโโโโโโโโโโโโโโ ุดุฑูุท ุงูุชุจููุจุงุช ุงูุฑุฆูุณู โโโโโโโโโโโโโโโ -->
    <div class="main-tabs-bar">
        <div class="main-tabs-container">
            <button class="main-tab" id="devTab" onclick="toggleDevSection()">
                <span class="main-tab-icon">๐ง</span>
                <span class="main-tab-text">ุงููุทูุฑ</span>
            </button>
        </div>
    </div>

    <!-- โโโโโโโโโโโโโโโ ูุณู ุงููุทูุฑ โโโโโโโโโโโโโโโ -->
    <div class="dev-section" id="devSection">
        <div class="dev-section-header">
            <span class="dev-section-title">๐ง ููุญุฉ ุงููุทูุฑ</span>
            <button class="dev-section-close" onclick="toggleDevSection()">โ</button>
        </div>
        <div class="dev-section-content" id="devSectionContent">
            <!-- ูุฑุจุนุงุช ุนุฑุถ ุงูููุงูู ูููุทูุฑ -->
            <div class="dev-spots-container">
                <div class="dev-spot"></div>
                <div class="dev-spot"></div>
            </div>
        </div>
    </div>
    <!-- โโโโโโโโโโโโโโโ ุงูุญุงููุฉ ุงูุฑุฆูุณูุฉ โโโโโโโโโโโโโโโ -->
    <div class="main-container">
        <!-- ููุทูุฉ ุงููุญุชูู -->
        <div class="content-area">
            <!-- ุญุงููุฉ ุงูููุงูู -->
            <div class="parking-container">
                <!-- ุฌูุฉ ุงููุฏุฎู -->
                <div class="parking-section">
                    <div class="section-title">ุฌูุฉ ุงููุฏุฎู (42 ูููู)</div>
                    <div class="parking-grid" id="entranceGrid"></div>
                </div>
                <!-- ุฌูุฉ ุงููุฎุฑุฌ -->
                <div class="parking-section">
                    <div class="section-title">ุฌูุฉ ุงููุฎุฑุฌ (45 ูููู)</div>
                    <div class="parking-grid exit-grid" id="exitGrid"></div>
                </div>
            </div>

            <!-- ูุณู ุงูุจูุงุจุงุช -->
            <div class="gates-section">
                <div class="section-title">ุจูุงุจุงุช ุตุงูุฉ ุงููุบุงุฏุฑุฉ</div>
                <div class="gates-grid" id="gatesGrid"></div>
            </div>
        </div>

        <!-- โโโโโโโโโโโโโโโ ููุญุฉ ุงูุชุญูู โโโโโโโโโโโโโโโ -->
        <div class="control-panel" id="controlPanel">
            <!-- ุชุจููุจุงุช ุงูููุญุฉ -->
            <div class="panel-tabs">
                <button class="panel-tab active" onclick='showTab("main",event)' title="ุงูุฑุฆูุณูุฉ">ุฑุฆูุณูุฉ</button>
                <button class="panel-tab" onclick='showTab("settings",event)' title="ุงูุฅุนุฏุงุฏุงุช">ุฅุนุฏุงุฏุงุช</button>
                <button class="panel-tab" onclick='showTab("alerts",event)' title="ุงูุชูุจููุงุช">ุชูุจููุงุช</button>
                <button class="panel-tab" onclick='showTab("kpis",event)' title="ุงููุคุดุฑุงุช">ูุคุดุฑุงุช</button>
                <button class="panel-tab" onclick='showTab("forms",event)' title="ุงูููุงุฐุฌ">ููุงุฐุฌ</button>
                <button class="panel-tab" onclick='showTab("registered",event)' title="ุงููุณุฌูุฉ">ูุณุฌูุฉ</button>
                <button class="panel-tab" onclick='showTab("segregation",event)' title="ุงููุฑุฒ">ูุฑุฒ</button>
                <button class="panel-tab" onclick='showTab("departed",event)' title="ุบุงุฏุฑุช">ุบุงุฏุฑุช</button>
            </div>

            <!-- โโโโโโโโโโโโโโโ ุชุจููุจ ุงูุฑุฆูุณูุฉ โโโโโโโโโโโโโโโ -->
            <div class="tab-content active" id="tab-main">
                <!-- ูุณู ุงูุฅุญุตุงุฆูุงุช -->
                <div class="panel-section">
                    <div class="panel-title">ุงูุฅุญุตุงุฆูุงุช</div>
                    <div class="panel-stat">
                        <span>ุงูููุงูู:</span>
                        <span class="panel-stat-value">87</span>
                    </div>
                    <div class="panel-stat">
                        <span>ูุดุบูู:</span>
                        <span class="panel-stat-value" id="panelOccupied">0</span>
                    </div>
                    <div class="panel-stat">
                        <span>ูุงุฑุบ:</span>
                        <span class="panel-stat-value" id="panelEmpty">87</span>
                    </div>
                    <div class="panel-stat">
                        <span>ูุจูุฑ:</span>
                        <span class="panel-stat-value" style="color:var(--green)" id="panelEarly">0</span>
                    </div>
                    <div class="panel-stat">
                        <span>ููุนุฏ:</span>
                        <span class="panel-stat-value" style="color:var(--blue)" id="panelOntime">0</span>
                    </div>
                    <div class="panel-stat">
                        <span>ูุชุฃุฎุฑ:</span>
                        <span class="panel-stat-value" style="color:var(--red)" id="panelLate">0</span>
                    </div>
                </div>

                <!-- ูุณู ุงูุชูุจูุฑ -->
                <div class="panel-section">
                    <div class="panel-title">ุงูุชูุจูุฑ</div>
                    <div style="display:flex;gap:5px">
                        <button class="panel-btn primary" onclick="zoomOut()" style="flex:1">โ</button>
                        <button class="panel-btn primary" onclick="zoomReset()" style="flex:1" id="zoomLevel">100%</button>
                        <button class="panel-btn primary" onclick="zoomIn()" style="flex:1">โ</button>
                    </div>

                    <!-- ูุณู ุญุฌู ุงูููุงูู -->
                    <div class="panel-section">
                        <div class="panel-title">ุญุฌู ุงูููุงูู</div>
                        <div style="display:flex;gap:5px">
                            <button class="panel-btn primary" onclick="spotSizeOut()" style="flex:1">โ</button>
                            <button class="panel-btn primary" style="flex:1" id="spotSizeLevel">55px</button>
                            <button class="panel-btn primary" onclick="spotSizeIn()" style="flex:1">โ</button>
                        </div>
                        <input type="range" min="40" max="100" value="55" style="width:100%;margin-top:8px" onchange="setSpotSize(this.value)" id="spotSizeSlider">
                    </div>

                    <input type="range" min="50" max="150" value="100" style="width:100%;margin-top:8px" onchange="setZoom(this.value)" id="zoomSlider">
                </div>

                <!-- ูุณู ุงูุชุญุฑูุฑ -->
                <div class="panel-section">
                    <div class="panel-title">ุงูุชุญุฑูุฑ</div>
                    <button class="panel-btn success" onclick="toggleEditMode()" id="editBtn">ุชูุนูู ูุถุน ุงูุชุญุฑูุฑ</button>

                    <div class="add-bus-section">
                        <div style="font-size:.8rem;color:var(--primary);margin-bottom:8px">ุฅุถุงูุฉ ุญุงููุฉ ุฌุฏูุฏุฉ</div>
                        <input type="number" class="add-bus-input" placeholder="ุฑูู ุงููููู (1-87)" id="newSpotNumber" min="1" max="87">
                        <button class="panel-btn primary" onclick="addNewBus()">ุฅุถุงูุฉ ุญุงููุฉ ุฌุฏูุฏุฉ</button>
                    </div>

                    <div id="spotActions" style="display:none;margin-top:10px">
                        <div style="font-size:.8rem;color:var(--primary);margin-bottom:8px">ุงููููู ุงููุญุฏุฏ: <span id="selectedSpotNum">-</span></div>
                        <div class="spot-actions">
                            <button class="panel-btn info" onclick="editSpot()">ุชุนุฏูู</button>
                            <button class="panel-btn primary" onclick="moveSpot()">ููู</button>
                            <button class="panel-btn danger" onclick="deleteSpot()">ุญุฐู</button>
                        </div>
                    </div>
                </div>

                <!-- ูุณู ุงูุจูุงูุงุช -->
                <div class="panel-section">
                    <div class="panel-title">ุงูุจูุงูุงุช</div>
                    <button class="panel-btn primary" onclick="exportJSON()">ุชุตุฏูุฑ JSON</button>
                    <button class="panel-btn info" onclick="exportCSV()">ุชุตุฏูุฑ CSV</button>
                    <button class="panel-btn primary" onclick='document.getElementById("importFile").click()'>ุงุณุชูุฑุงุฏ</button>
                    <input type="file" id="importFile" accept=".json" style="display:none" onchange="importJSON(event)">
                    <button class="panel-btn danger" onclick="resetAll()">ูุณุญ ุงููู</button>
                    <button class="panel-btn warning" onclick="clearAllData()">ุชุตููุฑ ุงูุจูุงูุงุช</button>
                    <button class="panel-btn" style="background:linear-gradient(135deg,#9c27b0,#ba68c8)" onclick="loadTestData()">ุชุญููู 20 ุญุงููุฉ ุชุฌุฑูุจูุฉ</button>
                </div>
            </div>

            <!-- โโโโโโโโโโโโโโโ ุชุจููุจ ุงูุฅุนุฏุงุฏุงุช โโโโโโโโโโโโโโโ -->
            <div class="tab-content" id="tab-settings">
                <!-- ุฅุนุฏุงุฏุงุช ุงูููุช -->
                <div class="panel-section">
                    <div class="panel-title">ุฅุนุฏุงุฏุงุช ุงูููุช</div>
                    <div class="setting-row">
                        <span class="setting-label">ุญุฏ ุงููุจูุฑ (ุณุงุนุฉ)</span>
                        <input type="number" class="setting-input" value="7" min="1" max="24" id="earlyThreshold" onchange="updateThresholds()">
                    </div>
                    <div class="setting-row">
                        <span class="setting-label">ุญุฏ ุงููุชุฃุฎุฑ (ุณุงุนุฉ)</span>
                        <input type="number" class="setting-input" value="3" min="1" max="12" id="lateThreshold" onchange="updateThresholds()">
                    </div>
                </div>

                <!-- ุฅุนุฏุงุฏุงุช ุงูุฃููุงู -->
                <div class="panel-section">
                    <div class="panel-title">ุฅุนุฏุงุฏุงุช ุงูุฃููุงู</div>
                    <div class="setting-row">
                        <span class="setting-label">ุงูููู ุงูุฃุณุงุณู</span>
                        <input type="color" class="color-picker" value="#ffd700" id="colorPrimary" onchange="updateColors()">
                    </div>
                    <div class="setting-row">
                        <span class="setting-label">ููู ุงููุจูุฑ</span>
                        <input type="color" class="color-picker" value="#4caf50" id="colorEarly" onchange="updateColors()">
                    </div>
                    <div class="setting-row">
                        <span class="setting-label">ููู ูู ุงูููุนุฏ</span>
                        <input type="color" class="color-picker" value="#2196f3" id="colorOntime" onchange="updateColors()">
                    </div>
                    <div class="setting-row">
                        <span class="setting-label">ููู ุงููุชุฃุฎุฑ</span>
                        <input type="color" class="color-picker" value="#f44336" id="colorLate" onchange="updateColors()">
                    </div>
                </div>

                <!-- ุฅุนุฏุงุฏุงุช ุงูุชูุจููุงุช -->
                <div class="panel-section">
                    <div class="panel-title">ุฅุนุฏุงุฏุงุช ุงูุชูุจููุงุช</div>
                    <div class="setting-row">
                        <span class="setting-label">ุชูุนูู ุงูุตูุช</span>
                        <div class="setting-toggle" id="soundToggle" onclick='toggleSetting("sound")'></div>
                    </div>
                    <div class="setting-row">
                        <span class="setting-label">ุฅุดุนุงุฑุงุช ููุจุซูุฉ</span>
                        <div class="setting-toggle active" id="notifToggle" onclick='toggleSetting("notif")'></div>
                    </div>
                    <div class="setting-row">
                        <span class="setting-label">ุชุญุฏูุซ ุชููุงุฆู</span>
                        <div class="setting-toggle active" id="autoRefreshToggle" onclick='toggleSetting("autoRefresh")'></div>
                    </div>
                </div>

                <!-- ุฅุนุฏุงุฏุงุช ุงูุนุฑุถ -->
                <div class="panel-section">
                    <div class="panel-title">ุฅุนุฏุงุฏุงุช ุงูุนุฑุถ</div>
                    <div class="setting-row">
                        <span class="setting-label">ุญุฌู ุงูููุงูู (px)</span>
                        <input type="number" class="setting-input" value="80" min="60" max="120" id="spotSize" onchange="updateSpotSize()">
                    </div>
                </div>

                <!-- ุฃุฒุฑุงุฑ ุงูุฅุนุฏุงุฏุงุช -->
                <div class="panel-section">
                    <button class="panel-btn success" onclick="saveSettings()">ุญูุธ ุงูุฅุนุฏุงุฏุงุช</button>
                    <button class="panel-btn primary" onclick="loadSettings()">ุชุญููู ุงูุฅุนุฏุงุฏุงุช</button>
                    <button class="panel-btn danger" onclick="resetSettings()">ุฅุนุงุฏุฉ ุงูุชุนููู</button>
                </div>
            </div>

            <!-- โโโโโโโโโโโโโโโ ุชุจููุจ ุงูุชูุจููุงุช โโโโโโโโโโโโโโโ -->
            <div class="tab-content" id="tab-alerts">
                <div class="panel-section">
                    <div class="panel-title" style="display:flex;justify-content:space-between;align-items:center">
                        <span>ุงูุชูุจููุงุช ุงููุดุทุฉ (<span id="alertsCount">0</span>)</span>
                    </div>
                    <div style="display:flex;gap:5px;margin-bottom:10px">
                        <button class="panel-btn danger" onclick="clearAlerts()" style="flex:1;padding:6px;font-size:.75rem">ูุณุญ</button>
                        <button class="panel-btn info" onclick="testAlert()" style="flex:1;padding:6px;font-size:.75rem">ุงุฎุชุจุงุฑ</button>
                    </div>
                    <div class="alerts-list" id="alertsList">
                        <div style="text-align:center;color:var(--text-muted);padding:20px">ูุง ุชูุฌุฏ ุชูุจููุงุช</div>
                    </div>
                </div>
            </div>

            <!-- โโโโโโโโโโโโโโโ ุชุจููุจ ุงููุคุดุฑุงุช โโโโโโโโโโโโโโโ -->
            <div class="tab-content" id="tab-kpis">
                <div class="panel-section">
                    <div class="panel-title">ูุคุดุฑุงุช ุงูุฃุฏุงุก</div>

                    <div class="kpi-card">
                        <div class="kpi-value" id="kpiOccupancy">0%</div>
                        <div class="kpi-label">ูุณุจุฉ ุงูุฅุดุบุงู</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="occupancyBar" style="width:0%;background:var(--blue)"></div>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-value" id="kpiAvgWait">0</div>
                        <div class="kpi-label">ูุชูุณุท ููุช ุงูุงูุชุธุงุฑ (ุฏูููุฉ)</div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-label" style="margin-bottom:5px">ุชูุฒูุน ุงูุญุงูุงุช</div>
                        <div class="chart-bars">
                            <div class="chart-bar" id="barEarly" style="height:30%;background:var(--green)">
                                <span class="chart-bar-label">ูุจูุฑ</span>
                            </div>
                            <div class="chart-bar" id="barOntime" style="height:40%;background:var(--blue)">
                                <span class="chart-bar-label">ููุนุฏ</span>
                            </div>
                            <div class="chart-bar" id="barLate" style="height:30%;background:var(--red)">
                                <span class="chart-bar-label">ูุชุฃุฎุฑ</span>
                            </div>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-value" id="kpiOnTimeRate">0%</div>
                        <div class="kpi-label">ูุนุฏู ุงูุชูููุฌ ุจุงูููุนุฏ</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="onTimeBar" style="width:0%;background:var(--green)"></div>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-value" id="kpiAvgPax">0</div>
                        <div class="kpi-label">ูุชูุณุท ุงูุฑูุงุจ/ุญุงููุฉ</div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-value" id="kpiPeakOccupancy">0%</div>
                        <div class="kpi-label">ุฐุฑูุฉ ุงูุฅุดุบุงู ุงูููู</div>
                    </div>

                    <div style="display:flex;gap:8px">
                        <div class="kpi-card" style="flex:1">
                            <div class="kpi-value" style="font-size:1rem" id="kpiBusesToday">0</div>
                            <div class="kpi-label">ุญุงููุงุช ุงูููู</div>
                        </div>
                        <div class="kpi-card" style="flex:1">
                            <div class="kpi-value" style="font-size:1rem" id="kpiPaxToday">0</div>
                            <div class="kpi-label">ูุณุงูุฑูู ุงูููู</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- โโโโโโโโโโโโโโโ ุชุจููุจ ุงูููุงุฐุฌ โโโโโโโโโโโโโโโ -->
            <div class="tab-content" id="tab-forms">
                <div class="panel-section">
                    <div class="panel-title">ุงูููุงุฐุฌ ุงููุชุงุญุฉ</div>
                    <div class="form-list">
                        <div class="form-item" onclick='openForm("ScrLogIn")'>
                            <span class="form-icon">1</span>
                            <div>
                                <div class="form-name">ุชุณุฌูู ุงูุฏุฎูู</div>
                                <div class="form-desc">ScrLogIn - ุงุฎุชูุงุฑ ูููุน ุงูุนูู</div>
                            </div>
                        </div>
                        <div class="form-item" onclick='openForm("ScrSegregationIn")'>
                            <span class="form-icon">2</span>
                            <div>
                                <div class="form-name">ุฏุฎูู ุงููุตู</div>
                                <div class="form-desc">ScrSegregationIn - ุชุณุฌูู ุฏุฎูู ุงูุญุงููุงุช</div>
                            </div>
                        </div>
                        <div class="form-item" onclick='openForm("ScrWelcomeLounge")'>
                            <span class="form-icon">3</span>
                            <div>
                                <div class="form-name">ุตุงูุฉ ุงูุงูุชุธุงุฑ</div>
                                <div class="form-desc">ScrWelcomeLounge - ุฅุฏุงุฑุฉ ุงูููุงูู</div>
                            </div>
                        </div>
                        <div class="form-item" onclick='openForm("ScrSegregationExit")'>
                            <span class="form-icon">4</span>
                            <div>
                                <div class="form-name">ุฎุฑูุฌ ุงููุตู</div>
                                <div class="form-desc">ScrSegregationExit - ุชุณุฌูู ุงูุฎุฑูุฌ</div>
                            </div>
                        </div>
                        <div class="form-item" onclick='openForm("ScrCurbside")'>
                            <span class="form-icon">5</span>
                            <div>
                                <div class="form-name">ุงูุฑุตูู</div>
                                <div class="form-desc">ScrCurbside - ููุทูุฉ ุงูุตุนูุฏ</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- โโโโโโโโโโโโโโโ ุชุจููุจ ุงูุญุงููุงุช ุงููุณุฌูุฉ โโโโโโโโโโโโโโโ -->
            <div class="tab-content" id="tab-registered">
                <div class="panel-section">
                    <div class="panel-title">ุงูุญุงููุงุช ุงููุณุฌูุฉ (<span id="registeredCount">0</span>)</div>
                    <div class="bus-list" id="registeredList">
                        <div style="text-align:center;color:var(--text-muted);padding:20px">ูุง ุชูุฌุฏ ุญุงููุงุช ูุณุฌูุฉ</div>
                    </div>
                </div>
            </div>

            <!-- โโโโโโโโโโโโโโโ ุชุจููุจ ุญุงููุงุช ุงููุฑุฒ โโโโโโโโโโโโโโโ -->
            <div class="tab-content" id="tab-segregation">
                <div class="panel-section">
                    <div class="panel-title">ุญุงููุงุช ุงููุฑุฒ (<span id="segregationCount">0</span>)</div>
                    <div class="bus-list" id="segregationList">
                        <div style="text-align:center;color:var(--text-muted);padding:20px">ูุง ุชูุฌุฏ ุญุงููุงุช ูู ุงููุฑุฒ</div>
                    </div>
                </div>
            </div>

            <!-- โโโโโโโโโโโโโโโ ุชุจููุจ ุงูุญุงููุงุช ุงููุบุงุฏุฑุฉ โโโโโโโโโโโโโโโ -->
            <div class="tab-content" id="tab-departed">
                <div class="panel-section">
                    <div class="panel-title">ุญุงููุงุช ุบุงุฏุฑุช (<span id="departedCount">0</span>)</div>
                    <div style="display:flex;gap:5px;margin-bottom:10px">
                        <div class="kpi-card" style="flex:1;padding:5px">
                            <div class="kpi-value" style="font-size:1rem" id="departedToday">0</div>
                            <div class="kpi-label">ุงูููู</div>
                        </div>
                        <div class="kpi-card" style="flex:1;padding:5px">
                            <div class="kpi-value" style="font-size:1rem" id="departedPax">0</div>
                            <div class="kpi-label">ุงูุฑูุงุจ</div>
                        </div>
                    </div>
                    <div class="bus-list" id="departedList">
                        <div style="text-align:center;color:var(--text-muted);padding:20px">ูุง ุชูุฌุฏ ุญุงููุงุช ุบุงุฏุฑุช</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- โโโโโโโโโโโโโโโ ุงูููุชุฑ โโโโโโโโโโโโโโโ -->
    <footer class="footer">
        ุฅุฏุงุฑุฉ ุนูููุงุช ุงูุณุงุญุงุช ุงูุฎุงุฑุฌูุฉ ูุงูููุงุตูุงุช v4.0 | JEDCO SMART OPERATIONS SYSTEM | ุขุฎุฑ ุชุญุฏูุซ: <span id="lastUpdate">--:--:--</span>
    </footer>

    <!-- โโโโโโโโโโโโโโโ ุนูุงุตุฑ ูุฎููุฉ โโโโโโโโโโโโโโโ -->
    <div class="tooltip" id="tooltip"></div>
    <div class="notifications" id="notifications"></div>

    <!-- ูุงุฆูุฉ ุงูููุงุฐุฌ ุงูููุจุซูุฉ -->
    <div class="forms-menu" id="formsMenu">
        <div class="forms-menu-title">ุงุฎุชุฑ ุงููููุฐุฌ</div>
        <div class="forms-menu-item" onclick='selectFormFromMenu("ScrLogIn")'>
            <span class="forms-menu-item-icon">1</span>
            <span class="forms-menu-item-name">ScrLogIn</span>
            <span class="forms-menu-item-status" id="formStatus1">-</span>
        </div>
        <div class="forms-menu-item" onclick='selectFormFromMenu("ScrSegregationIn")'>
            <span class="forms-menu-item-icon">2</span>
            <span class="forms-menu-item-name">ScrSegregationIn</span>
            <span class="forms-menu-item-status" id="formStatus2">-</span>
        </div>
        <div class="forms-menu-item" onclick='selectFormFromMenu("ScrWelcomeLounge")'>
            <span class="forms-menu-item-icon">3</span>
            <span class="forms-menu-item-name">ScrWelcomeLounge</span>
            <span class="forms-menu-item-status" id="formStatus3">-</span>
        </div>
        <div class="forms-menu-item" onclick='selectFormFromMenu("ScrSegregationExit")'>
            <span class="forms-menu-item-icon">4</span>
            <span class="forms-menu-item-name">ScrSegregationExit</span>
            <span class="forms-menu-item-status" id="formStatus4">-</span>
        </div>
        <div class="forms-menu-item" onclick='selectFormFromMenu("ScrCurbside")'>
            <span class="forms-menu-item-icon">5</span>
            <span class="forms-menu-item-name">ScrCurbside</span>
            <span class="forms-menu-item-status" id="formStatus5">-</span>
        </div>
    </div>

    <!-- โโโโโโโโโโโโโโโ ุงููุงูุฐุฉ ุงูููุจุซูุฉ (Modal) โโโโโโโโโโโโโโโ -->
    <div class="modal-overlay" id="modalOverlay" onclick="closeModalOnOverlay(event)">
        <div class="modal" id="formModal">
            <div class="modal-header">
                <span class="modal-title" id="modalTitle">ุงููููุฐุฌ</span>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody"></div>
            <div class="modal-footer">
                <button class="panel-btn primary" onclick="saveFormData()" style="flex:1">๐พ ุญูุธ</button>
                <button class="panel-btn danger" onclick="closeModal()" style="flex:1">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- โโโโโโโโโโโโโโโ ููู JavaScript โโโโโโโโโโโโโโโ -->
    <script src="scripts/app.js" defer="defer"></script>
</body>
</html>